<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generar OG Image - Mahitek 3D Lab</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #0B0F14;
      font-family: system-ui, -apple-system, sans-serif;
      color: #E8EDF4;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    h1 {
      color: #06B6D4;
      margin-bottom: 1rem;
    }
    
    .instructions {
      background: rgba(6, 182, 212, 0.1);
      border: 1px solid rgba(6, 182, 212, 0.3);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .instructions ol {
      margin: 0.5rem 0;
      padding-left: 1.5rem;
    }
    
    .instructions li {
      margin: 0.5rem 0;
    }
    
    #canvas-container {
      background: linear-gradient(135deg, #0B1729 0%, #0F1419 50%, #1a1625 100%);
      border: 2px solid #06B6D4;
      border-radius: 12px;
      padding: 20px;
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
    }
    
    #canvas-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 50%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 50%, rgba(139, 92, 246, 0.15) 0%, transparent 50%);
      pointer-events: none;
    }
    
    canvas {
      display: block;
      width: 100%;
      height: auto;
      position: relative;
      z-index: 1;
    }
    
    .buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 1.5rem;
    }
    
    button {
      background: linear-gradient(135deg, #06B6D4, #10B981);
      border: none;
      color: white;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(6, 182, 212, 0.5);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    .success {
      background: rgba(16, 185, 129, 0.2);
      border: 1px solid #10B981;
      color: #10B981;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      display: none;
    }
    
    .brand {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      text-align: center;
    }
    
    .brand h2 {
      font-size: 2.5rem;
      font-weight: 700;
      margin: 0;
      background: linear-gradient(135deg, #06B6D4, #10B981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .brand p {
      font-size: 1.2rem;
      color: rgba(232, 237, 244, 0.8);
      margin: 0.5rem 0 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ¨ Generador de Imagen Open Graph</h1>
    
    <div class="instructions">
      <h3>ðŸ“‹ Instrucciones:</h3>
      <ol>
        <li>Esta pÃ¡gina carga automÃ¡ticamente el <strong>hero-lab.svg</strong></li>
        <li>La imagen se renderiza en formato <strong>1200x630px</strong> (estÃ¡ndar OG)</li>
        <li>Haz clic en <strong>"Descargar og-image.png"</strong> para guardar la imagen</li>
        <li>Sube el archivo <strong>og-image.png</strong> a la raÃ­z de tu servidor (mismo nivel que index.html)</li>
        <li>Â¡Listo! Las previsualizaciones funcionarÃ¡n correctamente en redes sociales</li>
      </ol>
    </div>
    
    <div id="canvas-container">
      <canvas id="og-canvas" width="1200" height="630"></canvas>
      <div class="brand">
        <h2>Mahitek 3D Lab</h2>
        <p>ImpresiÃ³n 3D en PETG | Pachuca, MÃ©xico</p>
      </div>
    </div>
    
    <div class="buttons">
      <button onclick="downloadImage()">ðŸ’¾ Descargar og-image.png</button>
      <button onclick="reloadSVG()" style="background: linear-gradient(135deg, #8b5cf6, #06B6D4);">ðŸ”„ Recargar SVG</button>
    </div>
    
    <div id="success" class="success">
      âœ… Imagen descargada correctamente. Ahora sube <strong>og-image.png</strong> a la raÃ­z de tu servidor.
    </div>
  </div>
  
  <script>
    const canvas = document.getElementById('og-canvas');
    const ctx = canvas.getContext('2d');
    const width = 1200;
    const height = 630;
    
    // Establecer dimensiones
    canvas.width = width;
    canvas.height = height;
    
    function loadAndDrawSVG() {
      // Limpiar canvas
      ctx.clearRect(0, 0, width, height);
      
      // Fondo gradiente
      const gradient = ctx.createLinearGradient(0, 0, width, height);
      gradient.addColorStop(0, '#0B1729');
      gradient.addColorStop(0.5, '#0F1419');
      gradient.addColorStop(1, '#1a1625');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, width, height);
      
      // Efectos de luz
      const radial1 = ctx.createRadialGradient(240, height/2, 0, 240, height/2, 400);
      radial1.addColorStop(0, 'rgba(6, 182, 212, 0.15)');
      radial1.addColorStop(1, 'transparent');
      ctx.fillStyle = radial1;
      ctx.fillRect(0, 0, width, height);
      
      const radial2 = ctx.createRadialGradient(960, height/2, 0, 960, height/2, 400);
      radial2.addColorStop(0, 'rgba(139, 92, 246, 0.15)');
      radial2.addColorStop(1, 'transparent');
      ctx.fillStyle = radial2;
      ctx.fillRect(0, 0, width, height);
      
      // Cargar SVG
      const img = new Image();
      const svgBlob = new Blob([getSVGContent()], {type: 'image/svg+xml;charset=utf-8'});
      const url = URL.createObjectURL(svgBlob);
      
      img.onload = function() {
        // Centrar y escalar el SVG
        const svgWidth = 500;
        const svgHeight = 500;
        const x = (width - svgWidth) / 2;
        const y = (height - svgHeight) / 2 - 30;
        
        ctx.drawImage(img, x, y, svgWidth, svgHeight);
        
        // AÃ±adir texto de marca en la parte inferior
        ctx.fillStyle = '#06B6D4';
        ctx.font = 'bold 48px system-ui, -apple-system, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        
        // Texto con gradiente
        const textGradient = ctx.createLinearGradient(width/2 - 200, 0, width/2 + 200, 0);
        textGradient.addColorStop(0, '#06B6D4');
        textGradient.addColorStop(1, '#10B981');
        ctx.fillStyle = textGradient;
        ctx.fillText('Mahitek 3D Lab', width/2, height - 80);
        
        ctx.font = '24px system-ui, -apple-system, sans-serif';
        ctx.fillStyle = 'rgba(232, 237, 244, 0.8)';
        ctx.fillText('ImpresiÃ³n 3D en PETG | Pachuca, MÃ©xico', width/2, height - 35);
        
        URL.revokeObjectURL(url);
      };
      
      img.src = url;
    }
    
    function getSVGContent() {
      // AquÃ­ se carga el contenido del hero-lab.svg
      return `<?xml version="1.0" encoding="UTF-8"?>
<svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="magic-cyan" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06B6D4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0EA5E9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="magic-purple" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="magic-dark" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0B0F14;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Fondo con efectos -->
  <rect width="400" height="400" fill="#0B1729"/>
  
  <!-- Impresora 3D simplificada -->
  <g transform="translate(200, 200)">
    <!-- Base -->
    <rect x="-60" y="60" width="120" height="15" rx="4" fill="url(#magic-dark)" stroke="#06B6D4" stroke-width="2"/>
    
    <!-- Columnas -->
    <rect x="-55" y="-30" width="6" height="90" rx="2" fill="url(#magic-purple)" stroke="#8b5cf6" stroke-width="2"/>
    <rect x="49" y="-30" width="6" height="90" rx="2" fill="url(#magic-purple)" stroke="#8b5cf6" stroke-width="2"/>
    
    <!-- Marco superior -->
    <rect x="-55" y="-35" width="110" height="8" rx="3" fill="url(#magic-cyan)" stroke="#06B6D4" stroke-width="2"/>
    
    <!-- Cabezal -->
    <g transform="translate(0, -18)">
      <rect x="-20" y="-12" width="40" height="24" rx="4" fill="url(#magic-purple)" stroke="#8b5cf6" stroke-width="2"/>
      <circle cx="0" cy="0" r="5" fill="#06B6D4" opacity="0.9"/>
    </g>
    
    <!-- Cama caliente con pieza -->
    <rect x="-45" y="35" width="90" height="6" rx="2" fill="#0f172a" stroke="#10B981" stroke-width="2"/>
    <rect x="-15" y="15" width="30" height="20" rx="3" fill="#FEDA77" opacity="0.85" stroke="#10B981" stroke-width="2"/>
    
    <!-- Filamento -->
    <g transform="translate(65, -10)">
      <circle cx="0" cy="0" r="18" fill="url(#magic-cyan)" opacity="0.7" stroke="#06B6D4" stroke-width="2"/>
      <circle cx="0" cy="0" r="8" fill="#0f172a" opacity="0.8"/>
    </g>
  </g>
  
  <!-- PartÃ­culas mÃ¡gicas -->
  <circle cx="80" cy="150" r="3" fill="#06B6D4" opacity="0.6"/>
  <circle cx="320" cy="180" r="3" fill="#8b5cf6" opacity="0.6"/>
  <circle cx="140" cy="280" r="2" fill="#10B981" opacity="0.6"/>
  <circle cx="280" cy="250" r="2" fill="#FEDA77" opacity="0.6"/>
</svg>`;
    }
    
    function downloadImage() {
      canvas.toBlob(function(blob) {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'og-image.png';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        // Mostrar mensaje de Ã©xito
        document.getElementById('success').style.display = 'block';
        setTimeout(() => {
          document.getElementById('success').style.display = 'none';
        }, 5000);
      }, 'image/png', 1.0);
    }
    
    function reloadSVG() {
      loadAndDrawSVG();
    }
    
    // Cargar automÃ¡ticamente al abrir la pÃ¡gina
    loadAndDrawSVG();
  </script>
</body>
</html>
